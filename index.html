<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
     <title>FakeBook</title>
     
<style>
        * {
            font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        }

        label {
            margin-left: 20px;
        }
        .result {
            margin-left: 20px;
        }
        
        input {
            margin-left: 20px;
            width: 20%;
            height: 30px;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding-left: 5px;
            margin-bottom: 10px;
        }

        button {
            height: 30px;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding-left: 5px;
            margin-left: 20px;
            margin-bottom: 5px;
        }
    </style>
</head>

<body>
    
       <label for="input">What's on your mind?</label>
        <br>
        <input type="text" required placeholder="I think..." id="postInput">
        <br>

        <button id="postBtn">Post</button>
        <br>

        <!-- <button> Get a Post </button> -->
        <br>
        <br>
        <button onclick=getAllData()> Get ALL Posts </button>

        <div class="result" id="result"></div>

     <br>
    <div id="table"></div>
<body>
     <script>

let postBtn = document.getElementById('postBtn')
postBtn.addEventListener('click',post())

async function post() {
    let post = document.getElementById("postInput").value
    console.log(post)
    let response = await
     axios.post('https://first--server.herokuapp.com/post', {"text": post})
    // console.log(response);
};

function getAllData (){
let result = document.getElementById("result");
    // Make a request for a user with a given ID
    axios.get('https://first--server.herokuapp.com/posts')
    .then(function (response) {
        // handle success
        console.log(response.data[0].text);
        let data = response.data
        let html = ""
        for (let i = 0; i < data.length; i++) {
            console.log(data[i].text);
            html += `<p>${data[i].text}</p>`
        };
        result.innerHTML = html
    })
    .catch(function (error) {
        // handle error
        console.log(error);
    })
    .then(function () {
        // always executed
    });
};

     </script>
</body>
</html>